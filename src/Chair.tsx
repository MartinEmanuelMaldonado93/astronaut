/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import { useGLTF } from "@react-three/drei";
import React, { useRef } from "react";
import { DissolveMaterial, DissolveMaterialProps } from "./DissolveMaterial";
import { GLTF } from "three/examples/jsm/loaders/GLTFLoader.js";

type GLTFResult = GLTF & {
	nodes: {
		chair: { geometry: THREE.BufferGeometry };
	};
	materials: {
		"BrownDark.052": THREE.MeshStandardMaterial;
	};
};
export function Chair(
	props: JSX.IntrinsicElements["group"] &
		DissolveMaterialProps & { dissolveVisible: boolean }
) {
	const group = useRef<THREE.Group>(null!);
	const { nodes, materials } = useGLTF(
		"https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/chair-wood/model.gltf"
	) as GLTFResult;

	return (
		<group ref={group} {...props} dispose={null}>
			<mesh
				geometry={nodes.chair.geometry}
				material={materials["BrownDark.052"]}
			>
				<DissolveMaterial
					baseMaterial={materials["BrownDark.052"]}
					visible={props.dissolveVisible}
					onFadeOut={props.onFadeOut}
					color="#7f532f"
				/>
			</mesh>
		</group>
	);
}

useGLTF.preload(
	"https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/chair-wood/model.gltf"
);
